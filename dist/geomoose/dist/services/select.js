function SelectService(e,t){this.title=t.title?t.title:"Select",this.resultsTitle=t.resultsTitle?t.resultsTitle:"Select Results",this.headerTemplate=t.headerTemplate?t.headerTemplate:"@select-header",this.template=t.template?t.template:"@select",this.showGrid=void 0===t.showGrid||t.showGrid,this.footerTemplate=t.footerTemplate?t.footerTemplate:"@select-footer",this.name="",this.highlightPath=t.highlightPath?t.highlightPath:"highlight/highlight",this.tools=t.tools?t.tools:{Box:!0,Point:!0,MultiPoint:!0,Polygon:!0,LineString:!0,Select:!0,Modify:!0,default:"Polygon",buffer:!0},this.autoGo=!0===t.autoGo,this.keepAlive=!0===t.keepAlive,this.zoomToResults=!0===t.zoomToResults,this.gridMinimized=!0===t.gridMinimized,this.fields=t.fields||[{type:"layers-list",name:"layer",label:"Select from",default:t.defaultLayer,filter:{requireVisible:!0,withTemplate:["select","select-header","select-grid-columns","gridColumns"]}}],this.fieldsFirst=!0,this.drawToolsLabel=void 0!==t.drawToolsLabel?t.drawToolsLabel:"Using",this.bufferAvailable=!0,this.query=function(t,i){if(t&&t.length>0){var l=i[0].value,s=[this.template];if(this.showGrid){const e=this.alias?this.alias:this.name;s.push("@"+e+"-grid-columns"),s.push("@"+e+"-grid-row"),s.push("@gridColumns"),s.push("@gridRow")}e.dispatchQuery(this.name,t,[],[l],s)}else{var r=this.name,o=this;e.alert("selection-required","A selection geometry is required for this query.",(function(){e.startService(r,{changeTool:o.tools.default})}))}},this.resultsAsHtml=function(t,i){for(var l="",s=0,r=i.layers.length;s<r;s++){var o=i.layers[s];l+=e.renderTemplate(o,this.headerTemplate,i),i.results[o]&&(l+=e.renderFeaturesWithTemplate(i,o,this.template)),l+=e.renderTemplate(o,this.footerTemplate,i)}return l}}"undefined"!=typeof module&&(module.exports=SelectService);
function SearchService(e,t){this.title=t.title?t.title:"Search",this.resultsTitle=t.resultsTitle?t.resultsTitle:"Search Results",this.headerTemplate=t.headerTemplate?t.headerTemplate:"@search-header",this.template=t.template?t.template:"@search",this.showGrid=void 0===t.showGrid||t.showGrid,this.footerTemplate=t.footerTemplate?t.footerTemplate:"@search-footer",this.name="",this.tools={},this.fields=t.fields?t.fields:[],this.searchLayers=t.searchLayers?t.searchLayers:[],this.getSearchLayers=t.getSearchLayers?t.getSearchLayers:function(e,t){return e},this.validateFieldValues=t.validateFieldValues?t.validateFieldValues:function(e){return{valid:!0,message:null}},this.zoomToResults=!0===t.zoomToResults,this.gridMinimized=!0===t.gridMinimized,this.prepareFields=t.prepareFields?t.prepareFields:function(e){for(var t=[],s=0,r=e.length;s<r;s++)""!==e[s].value&&void 0!==e[s].value&&t.push({comparitor:"ilike",name:e[s].name,value:"%"+e[s].value+"%"});return t},this.resultsPath=t.resultsPath?t.resultsPath:"results/results",this.query=function(t,s){var r=[this.template];if(this.showGrid){const e=this.alias?this.alias:this.name;r.push("@"+e+"-grid-columns"),r.push("@"+e+"-grid-row")}e.dispatchQuery(this.name,null,this.prepareFields(s),this.getSearchLayers(this.searchLayers,s),r)},this.resultsAsHtml=function(t,s){for(var r="",a=0,i=s.layers.length;a<i;a++){var l=s.layers[a];r+=e.renderTemplate(l,this.headerTemplate,s),s.results[l]&&(r+=e.renderFeaturesWithTemplate(s,l,this.template)),r+=e.renderTemplate(l,this.footerTemplate,s)}return r}}"undefined"!=typeof module&&(module.exports=SearchService);